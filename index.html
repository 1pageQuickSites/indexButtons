<!DOCTYPE html>
<html lang="en">
<body>

<button onclick="connectToTarget()">Connect</button>
<button onclick="sendRemoteCall('deletePageByName')">Delete Page</button>
<button onclick="sendRemoteCall('confirmDeleteAllPages')">Delete All</button>

<input id="targetSrc" style="width:100%"
  placeholder="https://1pagequicksites.github.io/infoPage/" />

<script>
let targetWindow = null;
const targetOrigin = "https://1pagequicksites.github.io";

function connectToTarget() {
  const src = document.getElementById("targetSrc").value.trim();
  if (!src) return alert("Enter target URL");
  targetWindow = window.open(src, "_blank");
}

function sendRemoteCall(fn) {
  if (!targetWindow || targetWindow.closed) {
    return alert("Target not connected");
  }

  targetWindow.postMessage({
    type: "REMOTE_CALL",
    fn
  }, targetOrigin);
}
</script>

</body>
</html>
